{% extends "base_layout.html" %}

{% block title %}‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å - Mood Tracker{% endblock %}
{% block page_title %}üìù ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å{% endblock %}

{% block extra_css %}
<style>
    .form-card {
        background: white;
        padding: 30px;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        margin-bottom: 30px;
    }
    
    .form-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
    }
    
    .form-header h2 {
        color: #333;
        font-size: 1.5em;
    }
    
    .btn-cancel {
        padding: 8px 16px;
        background-color: #6c757d;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        text-decoration: none;
        display: inline-block;
    }
    
    .edit-mode {
        border: 3px solid #ffd93d;
    }
    
    .form-group {
        margin-bottom: 20px;
    }
    
    label {
        display: block;
        margin-bottom: 8px;
        color: #333;
        font-weight: 600;
    }
    
    input, select, textarea {
        width: 100%;
        padding: 12px;
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s;
    }
    
    input:focus, select:focus, textarea:focus {
        outline: none;
        border-color: #667eea;
    }
    
    /* Style ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Select */
    select {
        background-color: white;
        cursor: pointer;
        appearance: none;
        background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 20px;
        padding-right: 40px;
    }
    
    select:disabled {
        background-color: #f0f0f0;
        cursor: not-allowed;
        color: #999;
    }
    
    textarea {
        resize: vertical;
        min-height: 100px;
    }
    
    .color-options {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
    }
    
    .color-option {
        position: relative;
    }
    
    .color-option input[type="radio"] {
        position: absolute;
        opacity: 0;
    }
    
    .color-label {
        display: block;
        padding: 15px;
        text-align: center;
        border-radius: 10px;
        cursor: pointer;
        border: 3px solid transparent;
        transition: all 0.3s;
        font-weight: 600;
    }
    
    .color-option input[type="radio"]:checked + .color-label {
        border-color: #333;
        transform: scale(1.05);
    }
    
    .color-red { background-color: #ff6b6b; color: white; }
    .color-yellow { background-color: #ffd93d; color: #333; }
    .color-blue { background-color: #6bcfff; color: white; }
    .color-green { background-color: #51cf66; color: white; }
    
    .btn-submit {
        width: 100%;
        padding: 15px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 18px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s;
    }
    
    .btn-submit:hover {
        transform: translateY(-2px);
    }
    
    .mood-list {
        display: grid;
        gap: 15px;
    }
    
    .mood-item {
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        border-left: 5px solid;
    }
    
    .mood-item.‡πÅ‡∏î‡∏á { border-left-color: #ff6b6b; }
    .mood-item.‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á { border-left-color: #ffd93d; }
    .mood-item.‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô { border-left-color: #6bcfff; }
    .mood-item.‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß { border-left-color: #51cf66; }
    
    .mood-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .mood-datetime {
        color: #666;
        font-size: 14px;
    }
    
    .mood-color-badge {
        padding: 5px 15px;
        border-radius: 20px;
        color: white;
        font-weight: 600;
        font-size: 14px;
    }
    
    .mood-emotion {
        font-size: 20px;
        font-weight: 600;
        color: #333;
        margin: 10px 0;
    }
    
    .mood-trigger {
        color: #666;
        margin-bottom: 10px;
    }
    
    .mood-detail {
        color: #555;
        line-height: 1.6;
        margin-bottom: 10px;
    }
    
    .mood-footer {
        display: flex;
        gap: 10px;
        margin-top: 15px;
    }
    
    .btn-edit, .btn-delete {
        padding: 8px 15px;
        color: white;
        border: none;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
    }
    
    .btn-edit {
        background-color: #4CAF50;
    }
    
    .btn-delete {
        background-color: #ff6b6b;
    }
    
    .empty-state {
        background: white;
        padding: 40px;
        text-align: center;
        border-radius: 12px;
        color: #999;
    }
    
    /* Tooltip Styles */
    .tooltip-container {
        position: relative;
        display: inline-block;
        margin-left: 8px;
    }
    
    .tooltip-icon {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 20px;
        height: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-radius: 50%;
        font-size: 14px;
        cursor: help;
    }
    
    .tooltip-content {
        visibility: hidden;
        opacity: 0;
        position: absolute;
        z-index: 1000;
        background-color: #333;
        color: white;
        padding: 15px 20px;
        border-radius: 10px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        width: 350px;
        top: 30px;
        left: 50%;
        transform: translateX(-50%);
        transition: opacity 0.3s;
        font-size: 14px;
        line-height: 1.6;
    }
    
    .tooltip-container:hover .tooltip-content {
        visibility: visible;
        opacity: 1;
    }
    
    .color-meanings {
        margin-top: 12px;
        padding-top: 12px;
        border-top: 1px solid rgba(255,255,255,0.2);
    }
    
    .color-meaning-item {
        display: flex;
        align-items: center;
        margin: 8px 0;
        gap: 10px;
    }
    
    .color-dot {
        width: 16px;
        height: 16px;
        border-radius: 50%;
    }
    
    /* Info box ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å */
    .info-box {
        background: #e7f3ff;
        border-left: 4px solid #667eea;
        padding: 15px;
        border-radius: 8px;
        margin-top: 10px;
    }
    
    .info-box p {
        color: #333;
        font-size: 14px;
        margin: 5px 0;
    }
    
    @media (max-width: 768px) {
        .color-options {
            grid-template-columns: repeat(2, 1fr);
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç -->
<div class="form-card {% if edit_mood %}edit-mode{% endif %}">
    <div class="form-header">
        <h2>{% if edit_mood %}‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å{% else %}‚ûï ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡∏°‡πà{% endif %}</h2>
        {% if edit_mood %}
        <a href="{{ url_for('dashboard') }}" class="btn-cancel">‚ùå ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</a>
        {% endif %}
    </div>
    
    <form action="{% if edit_mood %}/update/{{ edit_mood._id }}{% else %}/add{% endif %}" method="POST" id="moodForm">
        <div class="form-group">
            <label>üìÖ ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà:</label>
            <input type="date" name="date" id="dateInput" value="{% if edit_mood %}{{ edit_mood.date }}{% endif %}" required>
        </div>
        
        <div class="form-group">
            <label>üïê ‡πÄ‡∏ß‡∏•‡∏≤:</label>
            <input type="time" name="time" id="timeInput" value="{% if edit_mood %}{{ edit_mood.time }}{% endif %}" required>
        </div>
        
        <div class="form-group">
            <label>
                üé® ‡∏™‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å:
                <span class="tooltip-container">
                    <span class="tooltip-icon">‚ÑπÔ∏è</span>
                    <div class="tooltip-content">
                        <strong>üí° ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏™‡∏µ</strong>
                        <p style="margin: 10px 0;">‡∏™‡∏µ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏£‡∏ß‡∏î‡πÄ‡∏£‡πá‡∏ß</p>
                        <div class="color-meanings">
                            <div class="color-meaning-item">
                                <span class="color-dot" style="background: #ff6b6b;"></span>
                                <span><strong>‡πÅ‡∏î‡∏á:</strong> ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á + ‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à</span>
                            </div>
                            <div class="color-meaning-item">
                                <span class="color-dot" style="background: #ffd93d;"></span>
                                <span><strong>‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á:</strong> ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á + ‡∏û‡∏≠‡πÉ‡∏à</span>
                            </div>
                            <div class="color-meaning-item">
                                <span class="color-dot" style="background: #6bcfff;"></span>
                                <span><strong>‡∏ü‡πâ‡∏≤:</strong> ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≥ + ‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à</span>
                            </div>
                            <div class="color-meaning-item">
                                <span class="color-dot" style="background: #51cf66;"></span>
                                <span><strong>‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß:</strong> ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≥ + ‡∏û‡∏≠‡πÉ‡∏à</span>
                            </div>
                        </div>
                    </div>
                </span>
            </label>
            <div class="color-options">
                <div class="color-option">
                    <input type="radio" name="color" value="‡πÅ‡∏î‡∏á" id="color-red" 
                           {% if edit_mood and edit_mood.color == '‡πÅ‡∏î‡∏á' %}checked{% elif not edit_mood %}required{% endif %}
                           onchange="updateEmotionOptions('‡πÅ‡∏î‡∏á')">
                    <label for="color-red" class="color-label color-red">‡πÅ‡∏î‡∏á</label>
                </div>
                <div class="color-option">
                    <input type="radio" name="color" value="‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á" id="color-yellow" 
                           {% if edit_mood and edit_mood.color == '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á' %}checked{% endif %}
                           onchange="updateEmotionOptions('‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á')">
                    <label for="color-yellow" class="color-label color-yellow">‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</label>
                </div>
                <div class="color-option">
                    <input type="radio" name="color" value="‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô" id="color-blue" 
                           {% if edit_mood and edit_mood.color == '‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô' %}checked{% endif %}
                           onchange="updateEmotionOptions('‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô')">
                    <label for="color-blue" class="color-label color-blue">‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô</label>
                </div>
                <div class="color-option">
                    <input type="radio" name="color" value="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß" id="color-green" 
                           {% if edit_mood and edit_mood.color == '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß' %}checked{% endif %}
                           onchange="updateEmotionOptions('‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß')">
                    <label for="color-green" class="color-label color-green">‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</label>
                </div>
            </div>
        </div>
        
        <div class="form-group">
            <label>
                üòä ‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå:
                <span class="tooltip-container">
                    <span class="tooltip-icon">‚ÑπÔ∏è</span>
                    <div class="tooltip-content">
                        <strong>üí≠ ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</strong>
                        <p style="margin: 10px 0;">1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Å‡πà‡∏≠‡∏ô</p>
                        <p style="margin: 10px 0;">2. ‡πÄ‡∏°‡∏ô‡∏π‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏à‡∏∞‡πÅ‡∏™‡∏î‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏™‡∏µ‡∏ô‡∏±‡πâ‡∏ô</p>
                        <p style="margin: 10px 0;">3. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
                        <!--<p style="margin: 10px 0;"><strong>üí° ‡πÄ‡∏Ñ‡∏•‡πá‡∏î‡∏•‡∏±‡∏ö:</strong> ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ!</p>-->
                    </div>
                </span>
            </label>
            <select name="emotion" id="emotionSelect" required disabled>
                <option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏Å‡πà‡∏≠‡∏ô --</option>
            </select>
        </div>     
        
        <div class="form-group">
            <label>üí• ‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô:</label>
            <input type="text" name="trigger" value="{% if edit_mood %}{{ edit_mood.trigger }}{% endif %}" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô, ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏£‡∏±‡∏ß, ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô" required>
        </div>
        
        <div class="form-group">
            <label>üìù ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</label>
            <textarea name="detail" placeholder="‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°..." required>{% if edit_mood %}{{ edit_mood.detail }}{% endif %}</textarea>
        </div>
        
        <button type="submit" class="btn-submit">
            {% if edit_mood %}üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç{% else %}üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å{% endif %}
        </button>
    </form>
</div>

<!-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î (5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) -->
<h3 style="margin-bottom: 15px; color: #333;">üìã ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h3>
<div class="mood-list">
    {% if moods %}
        {% for mood in moods[:5] %}
        <div class="mood-item {{ mood.color }}">
            <div class="mood-header">
                <div class="mood-datetime">
                    üìÖ {{ mood.date }} ‡πÄ‡∏ß‡∏•‡∏≤ {{ mood.time }}
                </div>
                <div class="mood-color-badge" style="background-color: 
                    {% if mood.color == '‡πÅ‡∏î‡∏á' %}#ff6b6b
                    {% elif mood.color == '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á' %}#ffd93d; color: #333;
                    {% elif mood.color == '‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô' %}#6bcfff
                    {% elif mood.color == '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß' %}#51cf66
                    {% endif %}">
                    {{ mood.color|upper }}
                </div>
            </div>
            <div class="mood-emotion">üòä {{ mood.emotion }}</div>
            <div class="mood-trigger">üí• ‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏£‡∏∞‡∏ï‡∏∏‡πâ‡∏ô: {{ mood.trigger }}</div>
            <div class="mood-detail">{{ mood.detail }}</div>
            <div class="mood-footer">
                <a href="/edit/{{ mood._id }}">
                    <button class="btn-edit">‚úèÔ∏è ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
                </a>
                <a href="/delete/{{ mood._id }}" onclick="return confirm('‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ô‡∏µ‡πâ?')">
                    <button class="btn-delete">üóëÔ∏è ‡∏•‡∏ö</button>
                </a>
            </div>
        </div>
        {% endfor %}
        
        {% if moods|length > 5 %}
        <div style="text-align: center; margin-top: 20px;">
            <a href="{{ url_for('history') }}" style="color: #667eea; text-decoration: none; font-weight: 600;">
                ‡∏î‡∏π‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‚Üí
            </a>
        </div>
        {% endif %}
    {% else %}
        <div class="empty-state">
            <h2>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</h2>
            <p>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!</p>
        </div>
    {% endif %}
</div>

<script>
// ============================================================
// üìö ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏ï‡∏≤‡∏°‡∏™‡∏µ (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà!)
// ============================================================

const emotionsByColor = {
    // üî¥ ‡∏™‡∏µ‡πÅ‡∏î‡∏á: ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á + ‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à (High Energy + Unpleasant)
    '‡πÅ‡∏î‡∏á': [
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏Å‡∏£‡∏ò‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏Ñ‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏á‡πÉ‡∏à','‡∏Ç‡∏∏‡πà‡∏ô‡πÄ‡∏Ñ‡∏∑‡∏≠‡∏á','‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à','‡∏ú‡∏¥‡∏î‡∏´‡∏ß‡∏±‡∏á','‡∏´‡∏á‡∏∏‡∏î‡∏´‡∏á‡∏¥‡∏î','‡∏£‡∏≥‡∏Ñ‡∏≤‡∏ç','‡∏´‡∏±‡∏ß‡πÄ‡∏™‡∏µ‡∏¢','‡πÇ‡∏Å‡∏£‡∏ò','‡πÇ‡∏°‡πÇ‡∏´','‡∏â‡∏∏‡∏ô‡πÄ‡∏â‡∏µ‡∏¢‡∏ß','‡πÄ‡∏î‡∏∑‡∏≠‡∏î‡∏î‡∏≤‡∏•','‡πÄ‡∏Å‡∏£‡∏µ‡πâ‡∏¢‡∏ß‡∏Å‡∏£‡∏≤‡∏î',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏•‡∏±‡∏ß‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏≠‡∏∂‡∏î‡∏≠‡∏±‡∏î','‡πÄ‡∏õ‡πá‡∏ô‡∏´‡πà‡∏ß‡∏á','‡∏´‡∏ô‡∏±‡∏Å‡πÉ‡∏à','‡∏Å‡∏•‡∏∏‡πâ‡∏°‡πÉ‡∏à','‡∏ß‡∏¥‡∏ï‡∏Å‡∏Å‡∏±‡∏á‡∏ß‡∏•','‡∏Å‡∏£‡∏∞‡∏ß‡∏ô‡∏Å‡∏£‡∏∞‡∏ß‡∏≤‡∏¢','‡∏ï‡∏Å‡πÉ‡∏à','‡∏Å‡∏•‡∏±‡∏ß','‡∏´‡∏ß‡∏≤‡∏î‡∏Å‡∏•‡∏±‡∏ß','‡∏´‡∏ß‡∏≤‡∏î‡∏£‡∏∞‡πÅ‡∏ß‡∏á',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î','‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î‡∏°‡∏≤‡∏Å','‡∏Å‡∏î‡∏î‡∏±‡∏ô','‡∏ß‡∏∏‡πà‡∏ô‡∏ß‡∏≤‡∏¢','‡∏Å‡∏£‡∏∞‡∏™‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡∏™‡πà‡∏≤‡∏¢',
        // üëâ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà!
    ],
    
    // üü° ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á: ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏π‡∏á + ‡∏û‡∏≠‡πÉ‡∏à (High Energy + Pleasant)
    '‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á': [
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏£‡∏∑‡πà‡∏ô‡∏£‡∏°‡∏¢‡πå','‡πÄ‡∏û‡∏•‡∏¥‡∏î‡πÄ‡∏û‡∏•‡∏¥‡∏ô','‡πÄ‡∏ö‡∏¥‡∏Å‡∏ö‡∏≤‡∏ô‡πÉ‡∏à','‡∏™‡∏ô‡∏∏‡∏Å‡∏™‡∏ô‡∏≤‡∏ô','‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç','‡∏î‡∏µ‡πÉ‡∏à','‡∏£‡∏∑‡πà‡∏ô‡πÄ‡∏£‡∏¥‡∏á‡∏ö‡∏£‡∏£‡πÄ‡∏ó‡∏¥‡∏á‡πÉ‡∏à','‡πÄ‡∏õ‡∏µ‡πà‡∏¢‡∏°‡∏™‡∏∏‡∏Ç',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏°‡∏µ‡∏™‡∏°‡∏≤‡∏ò‡∏¥','‡∏°‡∏µ‡∏û‡∏•‡∏±‡∏á','‡∏°‡∏µ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏ä‡∏µ‡∏ß‡∏≤','‡∏ï‡∏∑‡πà‡∏ô‡∏ï‡∏±‡∏ß','‡∏ï‡∏∑‡πà‡∏ô‡πÄ‡∏ï‡πâ‡∏ô','‡∏°‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏ô‡πÅ‡∏á‡πà‡∏î‡∏µ','‡∏°‡∏µ‡πÅ‡∏£‡∏á‡∏ú‡∏•‡∏±‡∏Å‡∏î‡∏±‡∏ô','‡∏°‡∏µ‡πÅ‡∏£‡∏á‡∏ö‡∏±‡∏ô‡∏î‡∏≤‡∏•‡πÉ‡∏à','‡∏Å‡∏£‡∏∞‡∏õ‡∏£‡∏µ‡πâ‡∏Å‡∏£‡∏∞‡πÄ‡∏õ‡∏£‡πà‡∏≤','‡∏Å‡∏£‡∏∞‡∏ï‡∏∑‡∏≠‡∏£‡∏∑‡∏≠‡∏£‡πâ‡∏ô','‡∏Å‡∏£‡∏∞‡∏â‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡πÄ‡∏â‡∏á','‡∏Æ‡∏∂‡∏Å‡πÄ‡∏´‡∏¥‡∏°','‡∏õ‡∏£‡∏∞‡∏´‡∏•‡∏≤‡∏î‡πÉ‡∏à',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏±‡∏á','‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô','‡∏°‡∏±‡πà‡∏ô‡πÉ‡∏à','‡∏†‡∏π‡∏°‡∏¥‡πÉ‡∏à','‡∏≠‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏°‡πÉ‡∏à','‡∏™‡∏≥‡∏£‡∏≤‡∏ç‡πÉ‡∏à','‡∏¢‡∏¥‡∏ô‡∏î‡∏µ','‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö‡πÉ‡∏à','‡∏õ‡∏•‡∏∑‡πâ‡∏°‡∏õ‡∏¥‡∏ï‡∏¥','‡∏õ‡∏µ‡∏ï‡∏¥‡∏¢‡∏¥‡∏ô‡∏î‡∏µ',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡πÇ‡∏ä‡∏Ñ‡∏î‡∏µ','‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì','‡∏ã‡∏≤‡∏ö‡∏ã‡∏∂‡πâ‡∏á‡πÉ‡∏à','‡∏™‡∏≥‡∏ô‡∏∂‡∏Å‡∏ö‡∏∏‡∏ç‡∏Ñ‡∏∏‡∏ì','‡∏õ‡∏£‡∏∞‡∏ó‡∏±‡∏ö‡πÉ‡∏à',
        // üëâ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà!
    ],
    
    // üîµ ‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô: ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≥ + ‡πÑ‡∏°‡πà‡∏û‡∏≠‡πÉ‡∏à (Low Energy + Unpleasant)
    '‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô': [
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ö‡∏∑‡πà‡∏≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡πÄ‡∏ã‡πá‡∏á','‡πÄ‡∏ö‡∏∑‡πà‡∏≠','‡πÄ‡∏ö‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πà‡∏≤‡∏¢','‡∏Ç‡∏¢‡∏∞‡πÅ‡∏Ç‡∏¢‡∏á','‡πÄ‡∏â‡∏¢‡πÄ‡∏°‡∏¢','‡πÑ‡∏°‡πà‡∏™‡∏ô‡πÉ‡∏à',        
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡πÄ‡∏®‡∏£‡πâ‡∏≤','‡πÇ‡∏®‡∏Å‡πÄ‡∏®‡∏£‡πâ‡∏≤','‡πÄ‡∏™‡∏µ‡∏¢‡πÉ‡∏à','‡∏´‡∏î‡∏´‡∏π‡πà','‡∏´‡∏°‡πà‡∏ô‡∏´‡∏°‡∏≠‡∏á','‡∏ó‡∏∏‡∏Å‡∏Ç‡πå‡∏£‡∏∞‡∏ó‡∏°','‡∏ã‡∏∂‡∏°‡πÄ‡∏®‡∏£‡πâ‡∏≤',    
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏á‡∏≤‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡πÄ‡∏´‡∏á‡∏≤','‡πÅ‡∏õ‡∏•‡∏Å‡πÅ‡∏¢‡∏Å','‡πÇ‡∏î‡∏î‡πÄ‡∏î‡∏µ‡πà‡∏¢‡∏ß','‡∏≠‡πâ‡∏≤‡∏á‡∏ß‡πâ‡∏≤‡∏á',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≠‡πÅ‡∏ó‡πâ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢','‡πÄ‡∏´‡∏ô‡∏∑‡πà‡∏≠‡∏¢‡∏´‡∏ô‡πà‡∏≤‡∏¢','‡∏ó‡πâ‡∏≠‡πÅ‡∏ó‡πâ','‡∏°‡∏≠‡∏á‡πÇ‡∏•‡∏Å‡πÉ‡∏ô‡πÅ‡∏á‡πà‡∏£‡πâ‡∏≤‡∏¢','‡∏´‡∏°‡∏î‡∏´‡∏ß‡∏±‡∏á','‡∏™‡∏¥‡πâ‡∏ô‡∏´‡∏ß‡∏±‡∏á','‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤','‡∏≠‡∏¥‡∏î‡πÇ‡∏£‡∏¢','‡∏≠‡πà‡∏≠‡∏ô‡∏•‡πâ‡∏≤','‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡πà‡∏¢‡∏ß‡πÅ‡∏£‡∏á','‡∏´‡∏°‡∏î‡πÑ‡∏ü','‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏•‡∏±‡∏¢‡∏ï‡∏≤‡∏¢‡∏≠‡∏¢‡∏≤‡∏Å',
        // üëâ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà!
    ],
    
    // üü¢ ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß: ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≥ + ‡∏û‡∏≠‡πÉ‡∏à (Low Energy + Pleasant)
    '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß': [
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à','‡∏û‡∏≠‡πÉ‡∏à','‡πÇ‡∏î‡∏ô‡πÉ‡∏à','‡∏ñ‡∏π‡∏Å‡πÉ‡∏à','‡∏£‡∏±‡∏Å',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏™‡∏ö‡∏≤‡∏¢','‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡∏™‡∏ö‡∏≤‡∏¢','‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢','‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏∏‡∏Ç',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏á‡∏ö‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏™‡∏ö‡∏≤‡∏¢‡πÉ‡∏à','‡πÑ‡∏£‡πâ‡∏Å‡∏±‡∏á‡∏ß‡∏•','‡∏™‡∏á‡∏ö','‡πÄ‡∏á‡∏µ‡∏¢‡∏ö‡∏™‡∏á‡∏ö','‡∏™‡∏á‡∏ö‡∏™‡∏∏‡∏Ç',
        '‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ','‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢','‡∏°‡∏±‡πà‡∏ô‡∏Ñ‡∏á','‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô','‡∏≠‡∏ö‡∏≠‡∏∏‡πà‡∏ô‡πÉ‡∏à',
        // üëâ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà!
    ]
};

// ============================================================
// üìö ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå
// ============================================================

function updateEmotionOptions(color) {
    const emotionSelect = document.getElementById('emotionSelect');
    const emotions = emotionsByColor[color] || [];
    
    // ‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡πà‡∏≤
    emotionSelect.innerHTML = '<option value="">-- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå --</option>';
    
    // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡∏°‡πà
    emotions.forEach(emotion => {
        const option = document.createElement('option');
        option.value = emotion;
        option.textContent = emotion;
        emotionSelect.appendChild(option);
    });
    
    // ‡πÄ‡∏õ‡∏¥‡∏î‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô dropdown
    emotionSelect.disabled = false;
    
    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡πÄ‡∏î‡∏¥‡∏°
    {% if edit_mood %}
    const savedEmotion = "{{ edit_mood.emotion }}";
    if (savedEmotion && emotions.includes(savedEmotion)) {
        emotionSelect.value = savedEmotion;
    }
    {% endif %}
}

// ============================================================
// üìö ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 3: ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏ô‡πâ‡∏≤
// ============================================================

document.addEventListener('DOMContentLoaded', function() {
    // ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà)
    {% if not edit_mood %}
    const now = new Date();
    const dateInput = document.getElementById('dateInput');
    const timeInput = document.getElementById('timeInput');
    
    // Format: YYYY-MM-DD
    const year = now.getFullYear();
    const month = String(now.getMonth() + 1).padStart(2, '0');
    const day = String(now.getDate()).padStart(2, '0');
    dateInput.value = `${year}-${month}-${day}`;
    
    // Format: HH:MM
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    timeInput.value = `${hours}:${minutes}`;
    {% endif %}
    
    // ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏ï‡∏≤‡∏°‡∏™‡∏µ‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏ß‡πâ
    {% if edit_mood %}
    const selectedColor = document.querySelector('input[name="color"]:checked');
    if (selectedColor) {
        updateEmotionOptions(selectedColor.value);
    }
    {% endif %}
});

// ============================================================
// üìö ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà 4: Validation ‡∏Å‡πà‡∏≠‡∏ô Submit
// ============================================================

document.getElementById('moodForm').addEventListener('submit', function(e) {
    const emotionSelect = document.getElementById('emotionSelect');
    const selectedColor = document.querySelector('input[name="color"]:checked');
    
    if (!selectedColor) {
        e.preventDefault();
        alert('‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å');
        return false;
    }
    
    if (!emotionSelect.value) {
        e.preventDefault();
        alert('‚ùå ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå');
        return false;
    }
    
    return true;
});
</script>
{% endblock %}